[{"/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/index.js":"1","/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/App.js":"2","/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/reportWebVitals.js":"3","/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/items.js":"4","/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/itemtable/itemtable.js":"5","/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/header.js":"6","/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/authbutton.js":"7","/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/authcontext.js":"8","/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/character-form.js":"9","/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/inventory/inventory.js":"10","/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/character-table.js":"11"},{"size":778,"mtime":1612155287665,"results":"12","hashOfConfig":"13"},{"size":1652,"mtime":1612233898902,"results":"14","hashOfConfig":"13"},{"size":362,"mtime":1611543270402,"results":"15","hashOfConfig":"13"},{"size":1773,"mtime":1611719685316,"results":"16","hashOfConfig":"13"},{"size":8165,"mtime":1612143120885,"results":"17","hashOfConfig":"13"},{"size":728,"mtime":1612152833505,"results":"18","hashOfConfig":"13"},{"size":2940,"mtime":1612152581755,"results":"19","hashOfConfig":"13"},{"size":101,"mtime":1612151517595,"results":"20","hashOfConfig":"13"},{"size":1187,"mtime":1612227463162,"results":"21","hashOfConfig":"13"},{"size":12127,"mtime":1612234717952,"results":"22","hashOfConfig":"13"},{"size":6439,"mtime":1612234425662,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1uteh6a",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/index.js",[],["48","49"],"/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/App.js",[],"/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/reportWebVitals.js",[],"/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/items.js",[],"/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/itemtable/itemtable.js",[],"/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/header.js",[],"/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/authbutton.js",["50","51"],"import React, { useContext, useEffect } from 'react';\nimport AuthContext from './authcontext.js'\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\n\nvar jwt = require('jsonwebtoken');\n\nfunction AuthButton() {\n    const {loggedIn, setLoggedIn} = useContext(AuthContext)\n\n    useEffect(() => {\n        const token = localStorage.getItem('authToken');\n        if (token === null) {\n            setLoggedIn(false)\n            return\n        }\n        var decodedToken = jwt.decode(token, { complete: true })\n        var dateNow = new Date();\n\n        if (decodedToken.exp < dateNow.getTime()) {\n            setLoggedIn(true)\n        }\n    }, [])\n\n    const refreshTokenSetup = (res) => {\n        // Timing to renew access token\n        let refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\n\n        const refreshToken = async () => {\n            const newAuthRes = await res.reloadAuthResponse();\n            refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\n            console.log('newAuthRes:', newAuthRes);\n            // saveUserToken(newAuthRes.access_token);  <-- save new token\n            localStorage.setItem('authToken', newAuthRes.id_token);\n\n            // Setup the other timer after the first one\n            setTimeout(refreshToken, refreshTiming);\n        };\n\n        // Setup first refresh timer\n        setTimeout(refreshToken, refreshTiming);\n    };\n\n    const responseGoogle = (response) => {\n        console.log(response);\n    }\n\n    const onLoginSuccess = (response) => {\n        // console.log(\"Success: \" + JSON.stringify(response))\n        window.localStorage.setItem('authToken', response.tokenObj.id_token);\n        refreshTokenSetup(response);\n        setLoggedIn(true)\n    }\n\n    const onLogoutSuccess = (response) => {\n        window.localStorage.removeItem('authToken')\n        setLoggedIn(false)\n    }\n    return (\n        <AuthContext.Consumer>\n            {({ loggedIn, setLoggedIn }) => (\n                <div>\n                    { loggedIn ?\n                        <GoogleLogout\n                            clientId=\"1090301103642-op1uhu99i3naegpk86siaqqf4nddn0c1.apps.googleusercontent.com\"\n                            buttonText='Logout'\n                            onLogoutSuccess={onLogoutSuccess}\n                            onFailure={responseGoogle}\n                        />\n                        : <GoogleLogin\n                            clientId=\"1090301103642-op1uhu99i3naegpk86siaqqf4nddn0c1.apps.googleusercontent.com\"\n                            buttonText=\"Login\"\n                            onSuccess={onLoginSuccess}\n                            onFailure={responseGoogle}\n                            cookiePolicy={'single_host_origin'}\n                            isSignedIn={true}\n                        />\n                    }\n                </div>\n            )}\n        </AuthContext.Consumer>\n    )\n\n\n\n}\n\nexport default AuthButton;","/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/authcontext.js",[],"/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/character-form.js",[],"/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/inventory/inventory.js",["52","53"],"/home/robertt/projects/BagOfHolding/ui/bag-of-holding/src/components/character-table.js",[],{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":8,"column":12,"nodeType":"60","messageId":"61","endLine":8,"endColumn":20},{"ruleId":"62","severity":1,"message":"63","line":22,"column":8,"nodeType":"64","endLine":22,"endColumn":10,"suggestions":"65"},{"ruleId":"58","severity":1,"message":"66","line":27,"column":22,"nodeType":"60","messageId":"61","endLine":27,"endColumn":30},{"ruleId":"62","severity":1,"message":"67","line":206,"column":8,"nodeType":"64","endLine":206,"endColumn":27,"suggestions":"68"},"no-native-reassign",["69"],"no-negated-in-lhs",["70"],"no-unused-vars","'loggedIn' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setLoggedIn'. Either include it or remove the dependency array.","ArrayExpression",["71"],"'useTheme' is defined but never used.","React Hook useEffect has a missing dependency: 'getInventory'. Either include it or remove the dependency array.",["72"],"no-global-assign","no-unsafe-negation",{"desc":"73","fix":"74"},{"desc":"75","fix":"76"},"Update the dependencies array to be: [setLoggedIn]",{"range":"77","text":"78"},"Update the dependencies array to be: [getInventory, selectedCharacter]",{"range":"79","text":"80"},[651,653],"[setLoggedIn]",[7429,7448],"[getInventory, selectedCharacter]"]